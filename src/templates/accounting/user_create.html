{% extends "base.html" %}
{% load static %}
{% block title %}IDEAL_ASP{% endblock %}
{% block style %}<link rel="stylesheet" type="text/css" href="{% static 'css/accounting/user_edit.css' %}">{% endblock %}
{% block content %}
<div id="sideBar_wrapper" class="sideBar">
    {% include "side-bar.html" %}
</div>
<div class="d-flex flex-row flex-wrap main-body">
    <main class="col-12">
        <span>{{ error }}</span>
        {% if save_message %}
            <div class="save-message alert-{{ alert_type }}" style="text-align: center;">
                {{ save_message }}
            </div>
        {% endif %}
        <form action="{% url 'accounting:user_commit' %}" method="post">
            {% csrf_token %}
            <div class="row">
                <div class="table-responsive col-6">
                    <table class="table table-striped text-nowrap">
                        <tbody>
                            <tr>
                                <th>社員ID</th>
                                <td>
                                    <div class="input-group-sm">
                                        <input class="form-control" type="number" name="code" {% if user.code != "" %}value="{{user.code}}"{% endif %}>
                                    </div>
                                </td>
                            </tr>
                            <tr>
                                <th>名前</th>
                                <td>
                                    <div class="input-group-sm">
                                        <input class="form-control" type="text" name="name" {% if user.name != "" %}value="{{user.name}}"{% endif %}>
                                    </div>
                                </td>
                            </tr>
                            <tr>
                                <th>ふりがな</th>
                                <td>
                                    <div class="input-group-sm">
                                        <input class="form-control" type="text" name="kana" {% if user.kana != "" %}value="{{user.kana}}"{% endif %}>
                                    
                                    </div>
                                </td>
                            </tr>
                            <tr>
                                <th>社員グループ名</th>
                                <td>
                                    <select name="employee_group_id" class="form-control">
                                        {% for employee_group in employee_groups %}
                                            <option value="{{ employee_group.id }}" {% if user.employee_group_id == employee_group.id %}selected{% endif %}>
                                                {{ employee_group.name }}
                                            </option>
                                        {% endfor %}
                                    </select>
                                </td>
                            </tr>
                            
                            <tr>
                                <th>都道府県</th>
                                <td>
                                    <select name="address_state_id" class="form-control">
                                        <option value="0"></option>

                                        {% for state in states %}
                                            <option value="{{ state.id }}"  {% if user.address_state_id == state.id %}selected{% endif %}>
                                                {{ state.name }}
                                            </option>
                                        {% endfor %}
                                    </select>
                                </td>
                            </tr>
                            <tr>
                                <th>市区町村</th>
                                <td>
                                    <div class="input-group-sm">

                                        <input class="form-control" type="text" name="city" maxlength='150' {% if user.city != "" %}value="{{user.city}}"{% endif %}>

                                        <!-- <input class="form-control" type="text" name="city" {% if user.city != "" %}value="{{user.city}}"{% endif %}> -->

                                    
                                    </div>
                                </td>
                            </tr>
                            <tr>
                                <th>番地</th>
                                <td>
                                    <div class="input-group-sm">

                                        <input class="form-control" type="text" name="street" maxlength='150' {% if user.street != "" %}value="{{user.street}}"{% endif %}>

                                        <!-- <input class="form-control" type="text" name="street" {% if user.street != "" %}value="{{user.street}}"{% endif %}> -->

                                    
                                    </div>
                                </td>
                            </tr>
                            <tr>
                                <th>建物名/部屋番号など</th>
                                <td>
                                    <div class="input-group-sm">

                                        <input class="form-control" type="text" name="building" maxlength='150' {% if user.building != "" %}value="{{user.building}}"{% endif %}>

                                        <!-- <input class="form-control" type="text" name="building" {% if user.building != "" %}value="{{user.building}}"{% endif %}> -->

                                    
                                    </div>
                                </td>
                            </tr>
                            <tr>
                                <th>電話番号</th>
                                <td>
                                    <div class="input-group-sm">
                                        <input class="form-control" type="tel" name="tel" {% if user.tel != "" %}value="{{user.tel}}"{% endif %}>
                                    
                                    </div>
                                </td>
                            </tr>
                            <tr>
                                <th>部署</th>
                                <td>
                                    <div class="input-group-sm">
                                        <input class="form-control" type="text" name="department" {% if user.department != "" %}value="{{user.department}}"{% endif %}>
                                    
                                    </div>
                                </td>
                            </tr>
                            <tr>
                                <th>職種</th>
                                <td>
                                    <div class="input-group-sm">
                                        <input class="form-control" type="text" name="occupation" {% if user.occupation != "" %}value="{{user.occupation}}"{% endif %}>
                                    </div>
                                </td>
                            </tr>
                            <tr>
                                <th>役職</th>
                                <td>
                                    <div class="input-group-sm">
                                        <input class="form-control" type="text" name="position" {% if user.position != "" %}value="{{user.position}}"{% endif %}>
                                    </div>
                                </td>
                            </tr>
                            <tr>
                                <th>メールアドレス</th>
                                <td>
                                    <div class="input-group-sm">
                                        <input class="form-control" type="email" name="email" {% if user.email != "" %}value="{{user.email}}"{% endif %}>
                                    
                                    </div>
                                </td>
                            </tr>
                            <tr>
                                <th>パスワード</th>
                                <td>
                                    <div class="input-group-sm">
                                        <input class="form-control" type="password" name="password" {% if user.password != "" %}value="{{user.password}}"{% endif %}>
                                    </div>
                                </td>
                            </tr>
                            <tr>
                                <th>在籍 or 退職 or 契約</th>
                                <td>
                                    <div class="status-radio">
                                        <div class="form-check form-check-inline">
                                            <input class="form-check-input" type="radio" name="status" value="1" {% if user.status == '1' %}checked{% endif %}>
                                            <label class="form-check-label">在籍</label>
                                        </div>
                                        <div class="form-check form-check-inline">
                                          <input class="form-check-input" type="radio" name="status" value="0" {% if user.status == '0' %}checked{% endif %}>
                                          <label class="form-check-label">退職</label>
                                        </div>
                                        <div class="form-check form-check-inline">
                                          <input class="form-check-input" type="radio" name="status" value="3" {% if user.status == '3' %}checked{% endif %}>
                                          <label class="form-check-label">契約</label>
                                        </div>
                                    </div>
                                </td>
                            </tr>
                            
                            
                        </tbody>
                    </table>
                </div>
                <div class="table-responsive col-6">
                    <table class="table table-striped text-nowrap">
                        <tbody>
                            <tr>
                                <th>緊急連絡先名</th>
                                <td>
                                    <div class="input-group-sm">
                                        <input class="form-control" type="text" name="emergency_contact_name" {% if user.emergency_contact_name != "" %}value="{{user.emergency_contact_name}}"{% endif %}>
                                    </div>
                                </td>
                            </tr>
                            <tr>
                                <th>続柄</th>
                                <td>
                                    <div class="input-group-sm">
                                        <input class="form-control" type="text" name="relationship" {% if user.relationship != "" %}value="{{user.relationship}}"{% endif %}>
                                    </div>
                                </td>
                            </tr>
                            <tr>
                                <th>緊急連絡先住所</th>
                                <td>
                                    <div class="input-group-sm">
                                        <input class="form-control" type="text" name="emergency_contact_address" {% if user.emergency_contact_address != "" %}value="{{user.emergency_contact_address}}"{% endif %}>
                                    </div>
                                </td>
                            </tr>
                            <tr>
                                <th>緊急連絡先電話番号</th>
                                <td>
                                    <div class="input-group-sm">
                                        <input class="form-control" type="text" name="emergency_contact_tel" {% if user.emergency_contact_tel != "" %}value="{{user.emergency_contact_tel}}"{% endif %}>
                                    </div>
                                </td>
                            </tr>
                            <tr>
                                <th>緊急連絡先メールアドレス</th>
                                <td>
                                    <div class="input-group-sm">
                                        <input class="form-control" type="text" name="emergency_contact_email" {% if user.emergency_contact_email != "" %}value="{{user.emergency_contact_email}}"{% endif %}>
                                    </div>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                    <table class="table table-striped text-nowrap">
                        <tbody>
                            <tr>
                                <th>資格名</th>
                                <td>
                                    <textarea name="qualification" value="{{ user.qualification|default:'' }}">{{ user.qualification|default:'' }}</textarea>
                                </td>
                            </tr>
                            <tr>
                                <th>取得日</th>
                                <td>
                                    <input type="text" class="form-control" name="qualification_acquisition_date" value="{{ user.qualification_acquisition_date}}" onfocus="type='date'"></td>
                                </td>
                            </tr>
                            <tr>
                                <th>資格種別</th>
                                <td>
                                    <select name="qualification_type" class="form-control">
                                        <option value="0" {% if user.qualification_type == 0 %}selected{% endif %}></option>
                                        <option value="1" {% if user.qualification_type == 1 %}selected{% endif %}>
                                            雇入・職長特別教育
                                        </option>
                                        <option value="2" {% if user.qualification_type == 2 %}selected{% endif %}>
                                            技術講習
                                        </option>
                                        <option value="3" {% if user.qualification_type == 3 %}selected{% endif %}>
                                            免許
                                        </option>
                                        <option value="4" {% if user.qualification_type == 4 %}selected{% endif %}>
                                            その他
                                        </option>

                                        
                                    </select>
                                </td>
                            </tr>
                            <tr>
                                <th>備考</th>
                                <td>
                                    <textarea name="qualification_remarks" value="{{ user.qualification_remarks|default:'' }}" rows=3>{{ user.qualification_remarks|default:'' }}</textarea>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                    <table class="table table-striped text-nowrap">
                        <tbody>
                            <tr>
                                <th>備考</th>
                                <td>
                                    <div class="input-group-sm">
                                        <textarea name="remarks" value="{{ user.remarks|default:'' }}" rows=3>{{ user.remarks|default:'' }}</textarea>
                                    </div>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
            <div class="wrapper_button"> 
                <a href="{% url 'accounting:user' %}">
                    <button type="button" class="btn-back btn btn-outline-warning btn-md"><i class="sub-icon fas fa-angle-double-left"></i>戻る</button>
                </a>
                <button type="submit" class="btn-create btn btn-outline-warning btn-md"><i class="sub-icon fas fa-file-export"></i>作成</button>
            </div>
        </form>
    </main>
</div>
{% endblock %}
{% block script %}<script type="text/javascript" src="{% static 'js/accounting/user_create.js' %}"></script>{% endblock %}